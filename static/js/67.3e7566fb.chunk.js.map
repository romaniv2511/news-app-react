{"version":3,"file":"static/js/67.3e7566fb.chunk.js","mappings":"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","sources":["redux/news/newsSelectors.jsx","hooks/useNews.jsx","webpack://news/./src/components/Filter/Filter.module.scss?573d","components/Filter/Filter.jsx","redux/filter/filterSelectors.jsx","webpack://news/./src/components/NewsArticle/NewsArticle.module.scss?c78b","components/NewsArticle/NewsArtirle.jsx","services/Highlight.jsx","webpack://news/./src/components/NewsList/NewsList.module.scss?bff8","components/NewsList/NewsList.jsx","pages/Home.jsx"],"sourcesContent":["export const selectNews = state => state.news.items;\nexport const selectIsLoading = state => state.news.isLoading;\nexport const selectError = state => state.news.error;\n","import { useSelector } from 'react-redux';\nimport {\n  selectIsLoading,\n  selectError,\n  selectNews,\n} from 'redux/news/newsSelectors';\n\nexport const useNews = () => {\n  const isLoading = useSelector(selectIsLoading);\n  const error = useSelector(selectError);\n  const news = useSelector(selectNews);\n\n  return { isLoading, error, news };\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__CLSp2\",\"input\":\"Filter_input__S09D5\"};","import { useSearchParams } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { changeFilter } from 'redux/filter/filterSlice';\n\nimport { InputAdornment, InputBase } from '@mui/material';\nimport { Search } from '@mui/icons-material';\nimport styles from './Filter.module.scss';\n\nexport const Filter = () => {\n  const dispatch = useDispatch();\n  const [searchParams, setSearchParams] = useSearchParams();\n  searchParams.get('query');\n\n  const handleChange = e => {\n    const value = e.target.value.trim();\n    dispatch(changeFilter(value));\n    setSearchParams({ query: value });\n  };\n\n  return (\n    <>\n      <p className={styles.label}>Filter by keywords</p>\n      <InputBase\n        className={styles.input}\n        name=\"filterByKeys\"\n        type=\"text\"\n        onChange={handleChange}\n        startAdornment={\n          <InputAdornment position=\"start\">\n            <Search />\n          </InputAdornment>\n        }\n      />\n    </>\n  );\n};\n","export const selectFilter = state => state.filter;\n","// extracted by mini-css-extract-plugin\nexport default {\"image\":\"NewsArticle_image__w-dQC\",\"textBox\":\"NewsArticle_textBox__NmNjs\",\"date\":\"NewsArticle_date__1Ypr+\",\"link\":\"NewsArticle_link__7aJTY\"};","import moment from 'moment';\nimport { useSelector } from 'react-redux';\nimport { Link, useLocation } from 'react-router-dom';\nimport { selectFilter } from 'redux/filter/filterSelectors';\nimport { Hightlight } from 'services/Highlight';\nimport { Card, Typography, Box } from '@mui/material';\nimport { CalendarToday } from '@mui/icons-material';\n\nimport classes from './NewsArticle.module.scss';\n\nexport const NewsArticle = ({ news }) => {\n  const { id, title, summary, imageUrl, publishedAt } = news;\n  const filter = useSelector(selectFilter);\n\n  const light = text => {\n    return Hightlight(filter, text);\n  };\n\n  const date = Date.parse(publishedAt);\n  const convertedDate = moment(date).format('MMMM Do, YYYY');\n\n  const location = useLocation();\n\n  return (\n    <Card sx={{ height: '100%' }}>\n      <Box className={classes.image}>\n        <img src={imageUrl} alt={title} />\n      </Box>\n      <div className={classes.textBox}>\n        <Typography sx={{ mb: '24px' }} className={classes.date}>\n          <CalendarToday fontSize=\"small\" /> {convertedDate}\n        </Typography>\n        <Typography\n          variant=\"h2\"\n          sx={{ mb: '20px', fontSize: '24px', lineHeight: '1.2' }}\n        >\n          {light(title)}\n        </Typography>\n        <Typography>{light(summary)}</Typography>\n        <Link\n          to={`/articles/${id}`}\n          state={{ from: location }}\n          className={classes.link}\n        >\n          Rear more &#10132;\n        </Link>\n      </div>\n    </Card>\n  );\n};\n","export const Hightlight = (filter, str) => {\n  if (!filter) return str;\n\n  const splitedFilter = filter.split(' ');\n\n  const filtredStr = splitedFilter.reduce((acc, f) => {\n    if (!f) return acc;\n\n    if (!acc) acc = str;\n\n    const regexp = new RegExp(f, 'ig');\n    const matchValue = str.match(regexp);\n\n    if (matchValue) {\n      return acc\n        .split(regexp)\n        .map((s, index, array) => {\n          if (index < array.length - 1) {\n            const filteredValue = matchValue.shift();\n            return `${s}*|${filteredValue}*`;\n          }\n          return s;\n        })\n        .join('');\n    }\n    return acc;\n  }, '');\n\n  return filtredStr.split('*').reduce((acc, text) => {\n    if (text.includes('|')) {\n      const currentText = text.slice(1, text.length);\n      return (\n        <>\n          {acc}\n          <mark>{currentText}</mark>\n        </>\n      );\n    }\n    return (\n      <>\n        {acc}\n        {text}\n      </>\n    );\n  });\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"counter\":\"NewsList_counter__94NWs\",\"list\":\"NewsList_list__VIgA2\",\"item\":\"NewsList_item__338E8\"};","import { NewsArticle } from 'components/NewsArticle/NewsArtirle';\nimport { useSelector } from 'react-redux';\nimport { selectFilter } from 'redux/filter/filterSelectors';\n\nimport { useNews } from 'hooks/useNews';\n\nimport { Grid } from '@mui/material';\nimport styles from './NewsList.module.scss';\n\nexport const NewsList = () => {\n  const { news } = useNews();\n  const filter = useSelector(selectFilter);\n\n  const onFilterNews = () => {\n    const splitedFilter = filter.split(' ');\n    const regexp = new RegExp(splitedFilter.join('|'), 'ig');\n\n    return news.filter(currentNews => {\n      const { title, summary } = currentNews;\n\n      const matchesTitle = [...title.matchAll(regexp)];\n      const matchesSummary = [\n        ...summary.matchAll(new RegExp(splitedFilter.join('|'), 'ig')),\n      ];\n      const isFiltered = matchesTitle.length > 0 || matchesSummary.length > 0;\n\n      if (isFiltered) return currentNews;\n      return null;\n    });\n  };\n\n  const filteredNews = onFilterNews();\n\n  return (\n    <>\n      <p className={styles.counter}>Results: {filteredNews.length}</p>\n\n      <Grid container className={styles.list}>\n        {filteredNews.map(item => {\n          return (\n            <Grid key={item.id} item className={styles.item}>\n              <NewsArticle news={item} />\n            </Grid>\n          );\n        })}\n      </Grid>\n    </>\n  );\n};\n","import { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { fetchNews } from 'redux/news/newsOperations';\nimport { useNews } from 'hooks/useNews';\nimport { Filter } from 'components/Filter/Filter';\nimport { NewsList } from 'components/NewsList/NewsList';\nimport { Container } from '@mui/material';\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const { isLoading, error } = useNews();\n\n  useEffect(() => {\n    dispatch(fetchNews());\n  }, [dispatch]);\n\n  const isVisibleNews = !isLoading && !error;\n\n  return (\n    <Container\n      sx={{ ml: 'auto', mr: 'auto', p: '50px 75px', maxWidth: '1440px' }}\n    >\n      {isLoading && <p>Loading...</p>}\n      {isVisibleNews && (\n        <>\n          <h1>News</h1>\n          <Filter />\n          <NewsList />\n        </>\n      )}\n      {error && <p>Oops, something wrong!</p>}\n    </Container>\n  );\n};\n\nexport default Home;\n"],"names":["selectNews","state","news","items","selectIsLoading","isLoading","selectError","error","useNews","useSelector","Filter","dispatch","useDispatch","useSearchParams","searchParams","setSearchParams","get","className","styles","InputBase","name","type","onChange","e","value","target","trim","changeFilter","query","startAdornment","InputAdornment","position","Search","selectFilter","filter","NewsArticle","id","title","summary","imageUrl","publishedAt","light","text","str","split","reduce","acc","f","regexp","RegExp","matchValue","match","map","s","index","array","length","filteredValue","shift","join","includes","currentText","slice","Hightlight","date","Date","parse","convertedDate","moment","format","location","useLocation","Card","sx","height","Box","classes","src","alt","Typography","mb","CalendarToday","fontSize","variant","lineHeight","to","from","NewsList","filteredNews","splitedFilter","currentNews","matchesTitle","matchAll","matchesSummary","onFilterNews","Grid","container","item","useEffect","fetchNews","isVisibleNews","Container","ml","mr","p","maxWidth"],"sourceRoot":""}